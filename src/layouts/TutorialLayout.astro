---
import Layout from './Layout.astro';

const { titulo, contenido, description, slug, categoria } = Astro.props;

const pageTitle = `${titulo} | BearStips`;
const canonical = `https://bearstips.com/es/tutorial/${categoria}/${slug}`;
---

<Layout
  title={pageTitle}
  description={description}
  canonical={canonical}
>
  <main>
    <article class="tutorial">
      <h1>{titulo}</h1>
      <div class="contenido-tutorial" set:html={contenido}></div>
    </article>
  </main>
</Layout>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 0;
}

main {
  max-width: 800px;
  margin: 20px auto;
  padding: 0 20px;
}

h1 {
  font-size: 2.5rem;
}

/* TODO tu CSS exactamente igual debajo */
</style>

<script>
  document.querySelectorAll('pre').forEach(function(pre) {
    const btn = document.createElement('button');
    btn.innerText = 'Copiar';
    btn.className = 'copy-btn';

    btn.addEventListener('click', function() {
      const code = pre.querySelector('code') 
        ? pre.querySelector('code').innerText 
        : pre.innerText;

      navigator.clipboard.writeText(code).then(function() {
        btn.innerText = 'Â¡Copiado!';
        btn.classList.add('copied');
        setTimeout(function() {
          btn.innerText = 'Copiar';
          btn.classList.remove('copied');
        }, 2000);
      });
    });

    pre.appendChild(btn);
  });
</script>